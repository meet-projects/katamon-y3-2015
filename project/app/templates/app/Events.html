{% extends "app/base.html" %}
{% load filters %}
{%block title %} Events {% endblock %}
{% block externalLinkRels %}
<link rel="stylesheet" href="{{STATIC_URL}}app/css/multiple-select.css" />
<link rel="stylesheet" href="{{STATIC_URL}}app/css/green-button.css" type="text/css" />
<link rel="stylesheet" type="text/css"
	href='{{STATIC_URL}}app/css/events.css'>
	<script src="{{STATIC_URL}}app/js/jquery.multiple.select.js"></script>
	<script src="{{STATIC_URL}}app/js/eventsFilter.js"></script>
	<script type="text/javascript">
	$(function() {
		MULTIPLE_SELECT_IDS = ["timeSelect", "fieldSelect", "weekDaySelect"];
		for (var i = 0; i < MULTIPLE_SELECT_IDS.length; i++){
			$("#" + MULTIPLE_SELECT_IDS[i]).change(function() {
				console.log($(this).val());
			}).multipleSelect({
				width: '100%'
			});
		}
		$(function () {
		$('[data-toggle="popover"]').popover();
		})
	});
	/*
	$(function () {
		$("fieldSelect").change(function() {
		var val = $(this).val();
		if (val === "Animals") {
			$("ANIMALS").show();
			}
		if (val === "Children") {
			$("CHILDREN").show();
			}
		if (val === "Elderly") {
			$("ELDERLY").show();
			}
		});
	});  */
	</script>
{% endblock %}
{% block body %}
	<script>
	$(document).mouseup(function (e)
	{
		var container = $("#sortDiv");
		if (!container.is(e.target) // if the target of the click isn't the container...
			&& container.has(e.target).length === 0) // ... nor a descendant of the container
		{
			container.slideUp();
		}
		});
	$(document).ready(function(){
		$("#sortDiv").hide();
		$("#sortTextBox").click(function(){
			$("#sortDiv").slideDown();
		});
		$("select").change(function(){
			refreshEvents($("#fieldSelect"), $("#timeSelect"), $("#weekDaySelect"))
			});
	});
	</script>
	<div class="container cover col-md-12" style="width:100%;" >
		<div class="fixedPos col-md-12" style="background-color: rgba(255,255,255, 0.8)">
			<div class="col-md-10 col-md-offset-1">
				<div class="form-group">
					<label class="sr-only" for="sortTextBox">Sort</label>
					<div class="input-group">
						<input type="text" class="form-control" id="sortTextBox" placeholder="Sort By">
						<div class="input-group-addon"><span class="glyphicon glyphicon-search" /></div>
					</div>
				</div>
			</div>
			<div class="col-md-8 col-md-offset-2" id="sortDiv">
				<form class="form-horizontal">
					<div class="form-group">
						<label for="inputFields" class="col-sm-2 control-label">Fields:</label>
						<div class="col-sm-10">
							<select id="fieldSelect" multiple="multiple">
								<option value="elderly-people-field">
									Elderly People
								</option>
								<option value="animals-field">
									Animals
								</option>
								<option value="ill-people-field">
									Ill People
								</option>
								<option value="children-field">
									Children
								</option>
								<option value="handicapped-field">
									Handicapped
								</option>
								<option value="technical-works-field">
									Technical Works
								</option>
								<option value="youth-field">
									Youth at Risk
								</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<label for="inputTime" class="col-sm-2 control-label">Time:</label>
						<div class="col-sm-10">
							<select id="timeSelect" multiple="multiple">
								<option value="morning-time">
									Morning
								</option>
								<option value="noon-time">
									Noon
								</option>
								<option value="afternoon-time">
									Afternoon
								</option>
								<option value="evening-time">
									Evening
								</option>
							</select>
						</div>
					</div>
					
					<div class="form-group">
						<label for="inputDay" class="col-sm-2 control-label morning-time">Day:</label>
						<div class="col-sm-10">
							<select id="weekDaySelect" multiple="multiple">
								<option value="monday-day">
									Monday
								</option>
								<option value="tuesday-day">
									Tuesday
								</option>
								<option value="wednesday-day">
									Wednesday
								</option>
								<option value="thursday-day">
									Thursday
								</option>
								<option value="friday-day">
									Friday
								</option>
								<option value="saturday-day">
									Saturday
								</option>
								<option value="sunday-day">
									Sunday
								</option>
							</select>
						</div>
					</div>
					
				</form>
				
			</div>
		</div>
	</div>
	<div style="margin-top:50px;">
	</div>
	<!--
	<div class="col-md-12 event animals-field monday-day morning-time events" style="margin-top:5%;" id="AnimalsInfo">
		<h3 class="col-md-offset-1" id="ANIMALS"> Animals </h3>
		<div class="row">
			<div class="col-md-7 col-md-offset-2">
				<a tabindex="0" class="btn btn-lg events" role="button" data-toggle="popover" 							data-trigger="focus" title="Tza'ar Ba'alei Chaim" data-content="Tza'ar Ba'alei Chaim (Jerusalem Society for the Prevention of Cruelty to Animals) is Jerusalem's largest animal shelter organization. The Society runs a shelter in the Atarot industrial area of Jerusalem - a shelter which has been in continuous operation since 1970. There is always plenty of work keeping the animals happy and healthy in J.S.P.C.A. Volunteers are needed in the shelter to perform the following tasks; Take dogs out for walks, clean the kennels, clean the cattery, help with laundry and general cleaning."><font color="#469245"><h5><b><i> Tza'ar Ba'alei Chaim </i></b></h5>
					<p> Group Size: 15 volunteers </p>
					<p> Time: 10:00am - 12:00am</p>
					<p> Date: August 7rd, 2015</p>
					<p> Location: Simtat HaMa'ayan 91190, Jerusalem </p>
				</a></font>
				{% if user.is_authenticated %}
					<div style="margin-left:19%;">
						<a href="#"><button class="green-btn">  Join </font></button></a>
					</div>
				{% endif %}
				{% if not user.is_authenticated %}
					<div style="margin-left:19%;">
						<a href="/login"><button class="btn green-btn"> Login To Join</button></a>
					</div>
				{% endif %}
				
>>>>>>> e3dd8e23e7747578c84969e48b478289cbf0c1e1
			</div>
			<div id="treepic" style="background-image:  url('{{STATIC_URL}}app/img/tree.jpg'); margin-top:50px;" width=200px height=300px class="col-md-1">
			</div>
		</div>
		!-->
		{% for event in events %}
			<div class="row clearfix">
				
				<div class="col-md-8 col-md-offset-2 events {{ event|html_classes }}">
					<div class="col-md-2">
						<img src="{{STATIC_URL}}app/img/zedka.png" alt="..." class="img-thumbnail img-responsive">
					</div>
					<div class="col-md-6 col-md-offset-1">
						<h5><b><i> {{ event.name }} </i></b></h5>
						<p>
							{{ event.description }}
							<p> Group Size: {{ event.group_size }} volunteers </p>
							<p> Time: {{ event|get_event_times }}</p>
							<p> Date: {{ event.date }}</p>
							<p> Location: {{ event.address }} </p>
						</p>
					</div>
					<div class="col-md-3 event-container">
						{% if user.is_authenticated %}
							<div class="event-center">
								<button class="btn green-btn">  Join </button>
							</div>
						{% else %}
							<div class="event-center">
								<a class="btn green-btn event-center" align="middle" style="vertical-align:middle;"> Login To Join </button>
								</a>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
			<hr>
		{% endfor %}
	</div>
</div>
{% endblock %}